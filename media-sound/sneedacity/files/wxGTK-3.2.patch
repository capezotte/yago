From ca598eff38370f2d54cca647977ff380ebe3a5a5 Mon Sep 17 00:00:00 2001
From: capezotte <carana2099@gmail.com>
Date: Sat, 22 Oct 2022 13:05:13 -0300
Subject: [PATCH 1/3] Fixes for wxGTK 3.2+

---
 src/MixerBoard.cpp    |  2 +-
 src/SneedacityApp.cpp | 10 ----------
 2 files changed, 1 insertion(+), 11 deletions(-)

diff --git a/src/MixerBoard.cpp b/src/MixerBoard.cpp
index 74b19e586..eb22d2c04 100644
--- a/src/MixerBoard.cpp
+++ b/src/MixerBoard.cpp
@@ -1306,7 +1306,7 @@ void MixerBoard::LoadMusicalInstruments()
    wxMemoryDC dc;
 
    for (const auto &data : table) {
-      auto bmp = std::make_unique<wxBitmap>(data.bitmap,24);
+      auto bmp = std::make_unique<wxBitmap>(data.bitmap);
       dc.SelectObject(*bmp);
       AColor::Bevel(dc, false, bev);
       mMusicalInstruments.push_back(std::make_unique<MusicalInstrument>(
diff --git a/src/SneedacityApp.cpp b/src/SneedacityApp.cpp
index fa9cc1695..4fb5d75eb 100644
--- a/src/SneedacityApp.cpp
+++ b/src/SneedacityApp.cpp
@@ -948,16 +948,6 @@ void SneedacityApp::OnTimer(wxTimerEvent& WXUNUSED(event))
 #define WL(lang,sublang)
 #endif
 
-#if wxCHECK_VERSION(3, 0, 1)
-wxLanguageInfo userLangs[] =
-{
-   // Bosnian is defined in wxWidgets already
-//   { wxLANGUAGE_USER_DEFINED, wxT("bs"), WL(0, SUBLANG_DEFAULT) wxT("Bosnian"), wxLayout_LeftToRight },
-
-   { wxLANGUAGE_USER_DEFINED, wxT("eu"), WL(0, SUBLANG_DEFAULT) wxT("Basque"), wxLayout_LeftToRight },
-};
-#endif
-
 void SneedacityApp::OnFatalException()
 {
 #if defined(HAS_CRASH_REPORT)
-- 
--- a/src/SneedacityApp.cpp
+++ b/src/SneedacityApp.cpp
@@ -1249,18 +1249,6 @@ bool SneedacityApp::OnInit()
 
    FileNames::SetSneedacityPathList( std::move( sneedacityPathList ) );
 
-   // Define languages for which we have translations, but that are not yet
-   // supported by wxWidgets.
-   //
-   // TODO:  The whole Language initialization really need to be reworked.
-   //        It's all over the place.
-#if wxCHECK_VERSION(3, 0, 1)
-   for (size_t i = 0, cnt = WXSIZEOF(userLangs); i < cnt; i++)
-   {
-      wxLocale::AddLanguage(userLangs[i]);
-   }
-#endif
-
    // Initialize preferences and language
    {
       dprintf("Initialize preferences and language");
2.38.1
